<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/service-definition-3.xsd">

    <service verb="create" noun="Party" type="inline" >
        <in-parameters>
            <parameter name="partyId" required="true"/>
            <parameter name="partyType" required="true"/>
            <parameter name="firstName" required="true"/>
            <parameter name="lastName" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="partyId" required="true"/>
        </out-parameters>
        <actions>
            <entity-make-value entity-name="Party" value-field="newParty"/>
            <entity-set value-field="newParty" include="all"/>
            <entity-create value-field="newParty" />
        </actions>
    </service>


    <service verb="update" noun="Party" type="inline">
        <in-parameters>
            <parameter name="partyId" required="true"/>
            <parameter name="partyType" required="true"/>
            <parameter name="firstName" required="true"/>
            <parameter name="lastName" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="partyId"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="Party" value-field="party">
                <field-map field-name="partyId" from="context.partyId"/>
            </entity-find-one>
            <entity-set value-field="party" include="all"> </entity-set>
            <entity-update value-field="party" />
        </actions>
    </service>

    <service verb="find" noun="Party" type="inline">
        <in-parameters>
            <parameter name="partyId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="PartyList" required="true"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="Party" list="PartyList">
                <econdition field-name="partyId"/>
                <select-field field-name="partyId"/>
                <select-field field-name="firstName"/>
                <select-field field-name="lastName"/>
                <select-field field-name="partyType"/>
            </entity-find>
        </actions>
    </service>

    <!--    <service verb="delete" noun="moqui.order.Party" >-->
    <!--        <in-parameters>-->
    <!--            <parameter name="partyId" required="true" type="Id"/>-->
    <!--        </in-parameters>-->
    <!--        <out-parameters>-->
    <!--            <parameter name="partyId" required="true"/>-->
    <!--        </out-parameters>-->
    <!--        <actions>-->
    <!--            <entity-find-one entity-name="moqui.order.Party" value-field="trainingId">-->
    <!--                <field-map field-name="partyId" value="context.partyId"/>-->
    <!--            </entity-find-one>-->
    <!--        </actions>-->
    <!--    </service>-->

    <!--    <service-call name="OrderManagementService.PartyManagement.create#Party">-->
    <!--        <field-map field-name="partyId" from="context.partyId"/>-->
    <!--        <field-map field-name="partyType" from="context.partyType"/>-->
    <!--        <field-map field-name="firstName" from="context.firstName"/>-->
    <!--        <field-map field-name="lastName" from="context.lastName"/>-->
    <!--    </service-call>-->






<!--    contactMech-->
    <service verb="create" noun="ContactMech" type="inline" >
        <in-parameters>
            <parameter name="contactMechId" required="true"/>
            <parameter name="partyId" required="true"/>
            <parameter name="streetAddress" required="true"/>
            <parameter name="city" required="true"/>
            <parameter name="state" required="true"/>
            <parameter name="postalCode" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="contactMechId" required="true"/>
        </out-parameters>
        <actions>
            <entity-make-value entity-name="ContactMech" value-field="newContactMech"/>
            <entity-set value-field="newContactMech" include="all"/>
            <entity-create value-field="newContactMech" />
        </actions>
    </service>


    <service verb="update" noun="ContactMech" type="inline">
        <in-parameters>
            <parameter name="contactMechId" required="true"/>
            <parameter name="partyId" required="true"/>
            <parameter name="streetAddress" required="false"/>
            <parameter name="city" required="false"/>
            <parameter name="state" required="false"/>
            <parameter name="postalCode" required="false"/>
        </in-parameters>
        <out-parameters>
            <parameter name="ContactMechId"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="ContactMech" value-field="contactMech">
                <field-map field-name="ContactMechId" from="context.ContactMechId"/>
            </entity-find-one>
            <entity-set value-field="contactMech" include="all"> </entity-set>
            <entity-update value-field="contactMech" />
        </actions>
    </service>

    <service verb="find" noun="ContactMech" type="inline">
        <in-parameters>
            <parameter name="contactMechId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="ContactList" required="true"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="ContactMech" list="ContactList">
                <econdition field-name="contactMechId"/>
                <select-field field-name="contactMechId"/>
                <select-field field-name="partyId"/>
                <select-field field-name="streetAddress"/>
                <select-field field-name="city"/>
                <select-field field-name="state"/>
                <select-field field-name="postalCode"/>
            </entity-find>
        </actions>
    </service>

    <service verb="delete" noun="ContactMech" >
        <in-parameters>
            <parameter name="contactMechId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="contactMechId" required="true"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="ContactMech" value-field="isContactMech">
                <field-map field-name="contactMechId" value="context.contactMechId"/>
            </entity-find-one>
            <if condition="isContactMech!=null">
                <entity-delete value-field="isContactMech"/>
            </if><then> </then>
            <else>
                <return error="true" message="contact not found" />
            </else>
        </actions>
    </service>






<!--product delete bacha he-->

    <service verb="create" noun="Product" type="inline" >
        <in-parameters>
            <parameter name="productId" required="true"/>
            <parameter name="productName" required="true"/>
            <parameter name="color" required="true"/>
            <parameter name="size" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="productId" required="true"/>
        </out-parameters>
        <actions>
            <entity-make-value entity-name="Product" value-field="newProduct"/>
            <entity-set value-field="newProduct" include="all"/>
            <entity-create value-field="newProduct" />
        </actions>
    </service>


    <service verb="update" noun="ContactMech" type="inline">
        <in-parameters>
            <parameter name="productId" required="true"/>
            <parameter name="productName" required="true"/>
            <parameter name="color" required="false"/>
            <parameter name="size" required="false"/>
        </in-parameters>
        <out-parameters>
            <parameter name="productId"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="Product" value-field="updateProduct">
                <field-map field-name="productId" from="context.productId"/>
            </entity-find-one>
            <entity-set value-field="updateProduct" include="all"> </entity-set>
            <entity-update value-field="updateProduct" />
        </actions>
    </service>

    <service verb="find" noun="Product" type="inline">
        <in-parameters>
            <parameter name="productId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="productList" required="true"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="Product" list="productList">
                <econdition field-name="productId"/>
                <select-field field-name="productId"/>
                <select-field field-name="productName"/>
                <select-field field-name="color"/>
                <select-field field-name="size"/>
            </entity-find>
        </actions>
    </service>


<!--order Header without delete-->



    <service verb="create" noun="OrderHeader" type="inline" >
        <in-parameters>
            <parameter name="orderId" required="true"/>
            <parameter name="orderDate" required="true"/>
            <parameter name="partyId" required="true"/>
            <parameter name="shippingContactMechId" required="true"/>
            <parameter name="billingContactMechId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="orderId" required="true"/>
        </out-parameters>
        <actions>
            <entity-make-value entity-name="OrderHeader" value-field="newOrder"/>
            <entity-set value-field="newOrder" include="all"/>
            <entity-create value-field="newOrder" />
        </actions>
    </service>


    <service verb="update" noun="ContactMech" type="inline">
        <in-parameters>
            <parameter name="orderId" required="true"/>
            <parameter name="orderDate" required="true"/>
            <parameter name="partyId" required="true"/>
            <parameter name="shippingContactMechId" required="false"/>
            <parameter name="billingContactMechId" required="false"/>
        </in-parameters>
        <out-parameters>
            <parameter name="orderId"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="OrderHeader" value-field="updateOrder">
                <field-map field-name="orderId" from="context.orderId"/>
            </entity-find-one>
            <entity-set value-field="updateOrder" include="all"> </entity-set>
            <entity-update value-field="updateOrder" />
        </actions>
    </service>

    <service verb="find" noun="OrderHeader" type="inline">
        <in-parameters>
            <parameter name="orderId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="OrderHeaderList" required="true"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="OrderHeader" list="OrderHeaderList">
                <econdition field-name="orderId"/>
                <select-field field-name="orderId"/>
                <select-field field-name="orderDate"/>
                <select-field field-name="partyId"/>
                <select-field field-name="shippingContactMechId"/>
                <select-field field-name="billingContactMechId"/>
            </entity-find>
        </actions>
    </service>





<!--    orderItem delete bacha he-->


    <service verb="create" noun="OrderItem" type="inline" >
        <in-parameters>
            <parameter name="orderItemSeqId" required="true"/>
            <parameter name="orderId" required="true"/>
            <parameter name="productId" required="true"/>
            <parameter name="quantity" required="true"/>
            <parameter name="status" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="orderItemSeqId" required="true"/>
        </out-parameters>
        <actions>
            <entity-make-value entity-name="OrderItem" value-field="newOrderItem"/>
            <entity-set value-field="newOrderItem" include="all"/>
            <entity-create value-field="newOrderItem" />
        </actions>
    </service>


    <service verb="update" noun="OrderItem" type="inline">
        <in-parameters>
            <parameter name="orderItemSeqId" required="true"/>
            <parameter name="orderId" required="true"/>
            <parameter name="productId" required="true"/>
            <parameter name="quantity" required="false"/>
            <parameter name="status" required="false"/>
        </in-parameters>
        <out-parameters>
            <parameter name="orderItemSeqId"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="OrderItem" value-field="updateOrderItem">
                <field-map field-name="orderItemSeqId" from="context.orderItemSeqId"/>
            </entity-find-one>
            <entity-set value-field="updateProduct" include="all"> </entity-set>
            <entity-update value-field="updateProduct" />
        </actions>
    </service>

    <service verb="find" noun="OrderItem" type="inline">
        <in-parameters>
            <parameter name="OrderId" required="true"/>
        </in-parameters>
        <out-parameters>
            <parameter name="OrderList" required="true"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="OrderItem" list="OrderList">
                <econdition field-name="OrderId"/>
                <select-field field-name="orderItemSeqId"/>
                <select-field field-name="productId"/>
                <select-field field-name="quantity"/>
                <select-field field-name="status"/>
            </entity-find>
        </actions>
    </service>



</services>









